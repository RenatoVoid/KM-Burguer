<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KM BURGER - Oficial</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    <style>
        .bg-km-vinho { background-color: #4a0404; }
        .text-km-amarelo { color: #f59e0b; }
    </style>
</head>
<body class="bg-gray-100 font-sans pb-32">

    <header class="bg-km-vinho p-6 text-center text-white shadow-xl sticky top-0 z-50">
        <h1 class="text-3xl font-black italic text-km-amarelo">KM BURGER üçî</h1>
    </header>

    <main class="max-w-md mx-auto p-4 space-y-8">
        <div id="categorias-container" class="space-y-8"></div>
        
        <section class="bg-purple-900 p-5 rounded-3xl shadow-lg text-white">
            <h2 class="font-bold text-xl mb-4 text-center text-km-amarelo">MONTE SEU A√áA√ç üçß</h2>
            <div id="acai-sizes" class="grid grid-cols-2 gap-3"></div>
        </section>
    </main>

    <div class="fixed bottom-0 left-0 right-0 bg-white border-t p-4 shadow-2xl max-w-md mx-auto z-40">
        <div class="flex justify-between items-center mb-2 px-2 font-bold">
            <span class="text-gray-500">Total:</span>
            <span id="carrinho-total" class="text-2xl text-green-600">R$ 0,00</span>
        </div>
        <button onclick="abrirCheckout()" class="w-full bg-green-600 text-white py-4 rounded-2xl font-bold text-lg active:scale-95">FINALIZAR PEDIDO</button>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCXNjKn-uP2dpf_OG_pzUkqa-RnS-3V1L4",
            authDomain: "km-burguer.firebaseapp.com",
            projectId: "km-burguer",
            databaseURL: "https://km-burguer-default-rtdb.firebaseio.com",
            storageBucket: "km-burguer.firebasestorage.app",
            messagingSenderId: "426968901226",
            appId: "1:426968901226:web:e05f587e2c36acaa714c13"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        const cardapio = [
            // HAMB√öRGUER TRADICIONAL
            { n: "X-Burguer", p: 19.90, c: "üçî HAMB√öRGUER" },
            { n: "X-Salada", p: 22.90, c: "üçî HAMB√öRGUER" },
            { n: "X-Bacon", p: 27.90, c: "üçî HAMB√öRGUER" },
            { n: "X-Calabresa", p: 24.90, c: "üçî HAMB√öRGUER" },
            { n: "X-Egg", p: 24.90, c: "üçî HAMB√öRGUER" },
            { n: "X-Frango", p: 24.90, c: "üçî HAMB√öRGUER" },
            { n: "X-Tudo", p: 39.90, c: "üçî HAMB√öRGUER" },
            // ARTESANAL
            { n: "KM-Burger Simples", p: 29.90, c: "üî• ARTESANAL" },
            { n: "KM-Burger Salada", p: 33.90, c: "üî• ARTESANAL" },
            { n: "KM-Burger Bacon", p: 37.90, c: "üî• ARTESANAL" },
            { n: "KM-Burger Calabresa", p: 35.90, c: "üî• ARTESANAL" },
            { n: "KM-Burger MAX", p: 49.90, c: "üî• ARTESANAL" },
            { n: "KM-Burger Egg", p: 35.90, c: "üî• ARTESANAL" },
            { n: "KM-Chicken", p: 29.90, c: "üî• ARTESANAL" },
            // POR√á√ïES
            { n: "Batata P", p: 16.90, c: "üçü POR√á√ïES" },
            { n: "Batata G", p: 26.90, c: "üçü POR√á√ïES" },
            { n: "Batata Queijo/Bacon G", p: 43.90, c: "üçü POR√á√ïES" },
            { n: "Calabresa c/ Fritas", p: 39.90, c: "üçü POR√á√ïES" },
            { n: "Contra file grelhado", p: 59.90, c: "üçü POR√á√ïES" },
            { n: "Chapa Mix", p: 159.90, c: "üçü POR√á√ïES" },
            { n: "Frango empanado", p: 49.90, c: "üçü POR√á√ïES" },
            // PAST√âIS
            { n: "Pastel Carne", p: 12.90, c: "ü•ü PAST√âIS" },
            { n: "Pastel Queijo", p: 12.90, c: "ü•ü PAST√âIS" },
            { n: "Pastel Pizza", p: 12.90, c: "ü•ü PAST√âIS" },
            { n: "Pastel Bauru", p: 12.90, c: "ü•ü PAST√âIS" },
            { n: "Pastel Carne com queijo", p: 13.90, c: "ü•ü PAST√âIS" },
            { n: "Pastel Frango com catupiry", p: 13.90, c: "ü•ü PAST√âIS" },
            { n: "Pastel Nutella", p: 15.90, c: "ü•ü PAST√âIS" },
            // BEBIDAS
            { n: "Refri Lata", p: 7.90, c: "ü•§ BEBIDAS" },
            { n: "Suco Lata", p: 7.90, c: "ü•§ BEBIDAS" },
            { n: "√Ågua", p: 3.90, c: "ü•§ BEBIDAS" },
            { n: "Caipirinha", p: 23.90, c: "ü•§ BEBIDAS" }
        ];

        const acaiSizes = [
            { n: "Copo 300ml", p: 10.90 }, { n: "Copo 400ml", p: 13.90 }, 
            { n: "Copo 500ml", p: 20.90 }, { n: "Tigela 500ml", p: 28.90 }
        ];

        // Fun√ß√£o essencial que "desenha" o menu na tela
        function renderMenu() {
            const container = document.getElementById('categorias-container');
            const cats = [...new Set(cardapio.map(i => i.c))];
            
            container.innerHTML = cats.map(cat => `
                <section>
                    <h2 class="font-black text-lg text-km-vinho mb-3 border-l-4 border-km-vinho pl-2">${cat}</h2>
                    <div class="grid gap-3">
                        ${cardapio.filter(i => i.c === cat).map(item => `
                            <div class="bg-white p-4 rounded-2xl shadow-sm border flex justify-between items-center">
                                <div><p class="font-bold">${item.n}</p><p class="text-green-600 font-black text-sm">R$ ${item.p.toFixed(2)}</p></div>
                                <button onclick="addCarrinho('${item.n}', ${item.p})" class="bg-km-vinho text-white w-10 h-10 rounded-full font-bold">+</button>
                            </div>
                        `).join('')}
                    </div>
                </section>
            `).join('');

            document.getElementById('acai-sizes').innerHTML = acaiSizes.map(s => `
                <button onclick="abrirModalAcai('${s.n}', ${s.p})" class="p-4 bg-white/10 border border-white/20 rounded-2xl text-center active:scale-95 transition">
                    <p class="text-sm font-bold">${s.n}</p><p class="text-km-amarelo font-black">R$ ${s.p.toFixed(2)}</p>
                </button>
            `).join('');
        }

        // Isso garante que o menu apare√ßa assim que o site abrir
        window.onload = renderMenu;

        // ... Restante das fun√ß√µes (addCarrinho, enviarPedidoFirebase, etc)
    </script>
</body>
</html>